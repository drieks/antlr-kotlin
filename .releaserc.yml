branches:
  - name: master
plugins:
  - - "@semantic-release/commit-analyzer"
  - - "@semantic-release/release-notes-generator"
  - - "@semantic-release/changelog"
  - - "@semantic-release/exec"
    - prepareCmd: |-
        sed -i "s/^Latest Version: .*/Latest Version: ${nextRelease.version}/" Readme.MD
        sed -i "s/^version=.*/version=${nextRelease.version}/" gradle.properties
        sed -i "s/^version=.*/version=${nextRelease.version}/" antlr-kotlin-examples-mpp/gradle.properties
        sed -i "s/^\\([[:space:]]*\\)\\(ext.projectVersion[[:space:]]*=[[:space:]]*\\)'.*'/\\1\\2'${nextRelease.version}'/" antlr-kotlin-examples-js/build.gradle
  - - "@semantic-release/git"
    - assets:
        - Readme.md
        - CHANGELOG.md
        - gradle.properties
        - antlr-kotlin-examples-mpp/gradle.properties
        - antlr-kotlin-examples-js/build.gradle
      message: "Release: ${nextRelease.version}\n\n${nextRelease.notes}"
